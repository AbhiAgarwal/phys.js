/**
 * test.electromagnetic.js
 * http://github.com/abhiagarwal/phys.js
 *
 * Copyright 2013 Abhi Agarwal
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var assert = require('assert');
var phys = require('../index.js');
var electromagnetic = phys.electromagnetic;

describe('electromagnetic', function () {
  console.log('Testing Energy Library');

  it('Kinetic Energy', function () {
    assert.equal(18, electromagnetic.KineticEnergy(9, 2));
    assert.equal(0, electromagnetic.KineticEnergy(0, 2));
  });
  it('Calculated Kinetic Energy', function () {
    assert.equal(18, electromagnetic.selfKineticEnergy(9, 4));
    assert.equal(0, electromagnetic.selfKineticEnergy(0, 2));
  });
  it('Rate at which charge flows through a given surface', function () {
    assert.equal(0.17647058823529413, electromagnetic.current(1, 4, 92, 109));
    assert.equal(0.95, electromagnetic.current(10, -9, 20, 0));
  });
  it('Resistance of an Ohmic resistor', function () {
    assert.equal(0.2222222222222222, electromagnetic.ohmicResistance(2, 9));
    assert.equal(0.2, electromagnetic.ohmicResistance(0.1, 0.5));
  });
  it('Resistivity - tendancy of a material to resist charge', function () {
    assert.equal(5.454545454545454, electromagnetic.resistivity(3, 11, 20));
    assert.equal(-1170, electromagnetic.resistivity(-9, 0.1, 13));
  });  
  it('Power - Energy consumed per unit time', function () {
    assert.equal(312, electromagnetic.viPower(13, 24));
    assert.equal(-108, electromagnetic.viPower(-9, 12));
  });  
  it('Power - Energy consumed per unit time', function () {
    assert.equal(5315961, electromagnetic.irPower(203, 129));
    assert.equal(-7569, electromagnetic.irPower(29, -9));
  });
  it('Calculated Power - Energy consumed per unit time', function () {
    assert.equal(5315961, electromagnetic.selfirPower(Math.pow(203, 2), 129));
    assert.equal(-7569, electromagnetic.selfirPower(Math.pow(29, 2), -9));
  });
  it('Power - Energy consumed per unit time', function () {
    assert.equal(2, electromagnetic.vPower(2, 2));
    assert.equal(1.0475059382422802, electromagnetic.vPower(21, 421));
  });
  it('Calculated Power - Energy consumed per unit time', function () {
    assert.equal(2, electromagnetic.selfvPower(Math.pow(2, 2), 2));
    assert.equal(1.0475059382422802, electromagnetic.selfvPower(Math.pow(21, 2), 421));
  });
  it('Electromotive Force - Voltage generated by a battery', function () {
    assert.equal(2604, electromagnetic.emf(21, 32, 92));
    assert.equal(0, electromagnetic.emf(92, 9, -9));
  });
  it('Sum of resistance components connected in series', function () {
    assert.equal(15, electromagnetic.series([1,2,3,4,5]));
    assert.equal(566, electromagnetic.series([92, 90, 293, 91]));
  });
  it('Sum of resistance components connected in parallel', function () {
    assert.equal(15, electromagnetic.series([1,2,3,4,5]));
    assert.equal(566, electromagnetic.series([92, 90, 293, 91]));
  });
  it('Component of B-field passing through a surface area A at an angle', function () {
    assert.equal(0.000000000000005633189227582935, electromagnetic.fluxComponent(23, 4, 90));
    assert.equal(-1152, electromagnetic.fluxComponent(192, 6, 180));
  });
  it('Induced voltage by moving a rod of length l through a B-field of velocity v', function () {
    assert.equal(72, electromagnetic.inducedEmf(18, 4, 1));
    assert.equal(512, electromagnetic.inducedEmf(32, 8, 2));
  });
  it('Gauss Law: Rate of flow of electric field (Electric flux) through a closed surface with an arbitrary volume', function () {
    assert.equal(0.000000022246941045606228, electromagnetic.gauss(200));
    assert.equal(0.0000000010011123470522803, electromagnetic.gauss(9));
  });
  it('Faradays Law: Induced emf generated by moving coil in B-field', function () {
    assert.equal(-17.9, electromagnetic.coilEmf(1, 1.1, 19, 21, 22));
    assert.equal(-1.3749999999999998, electromagnetic.coilEmf(10, 1.2, 2.3, 1, 9));
  });
 });